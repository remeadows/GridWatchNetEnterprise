# GridWatch NetEnterprise - NATS Development Configuration with JetStream
#
# SECURITY NOTE: This configuration is for DEVELOPMENT ONLY.
# For production, use nats.prod.conf which enables authentication and TLS.
# See: infrastructure/nats/nats.prod.conf

# Server identification
server_name: gridwatch-nats

# Client connections
port: 4222

# HTTP monitoring
http_port: 8222

# Logging
debug: false
trace: false
logtime: true
log_file: "/data/nats.log"

# Maximum payload size (1MB)
max_payload: 1048576

# Maximum pending bytes per connection (64MB)
max_pending: 67108864

# Maximum connections
max_connections: 1000

# Ping interval and max outstanding pings
ping_interval: "2m"
ping_max: 2

# Write deadline
write_deadline: "10s"

# JetStream configuration
jetstream {
    store_dir: "/data/jetstream"

    # Maximum memory storage (256MB)
    max_memory_store: 268435456

    # Maximum file storage (10GB)
    max_file_store: 10737418240
}

# DEVELOPMENT ONLY: No authentication
# For production, use nats.prod.conf which includes:
#   - User authentication (authorization block)
#   - TLS encryption (tls block)
#
# To enable in production:
# 1. Set NATS_PASSWORD in your .env file
# 2. Generate TLS certificates: ./infrastructure/scripts/generate-nats-certs.sh
# 3. Use nats.prod.conf in docker-compose.prod.yml
